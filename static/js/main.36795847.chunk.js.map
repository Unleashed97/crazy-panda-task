{"version":3,"sources":["components/Countries.js","components/Pagination.js","components/Filtration.js","App.js","index.js"],"names":["Countries","countries","handleCategoryClick","sortCategory","sortOrder","className","map","category","index","type","onClick","width","height","d","country","name","common","capital","area","population","Pagination","itemsPerPage","totalItems","currentPageNumber","handlePagButtonClick","numberOfPages","i","Math","ceil","push","item","Filtration","handleInputChange","action","htmlFor","id","placeholder","onChange","App","useState","setCountries","currentPage","setCurrentPage","currentPageItems","setCurrentPageItems","setSortCategory","setSortOrder","filtratedCountries","setFiltratedCountries","inputValue","setInputValue","useEffect","getCountries","a","axios","get","response","data","filter","String","toLowerCase","includes","sort","b","Intl","Collator","compare","first","second","undefined","sortCountries","lastItem","firstItem","slice","getCurrentPageItems","e","filterRequest","target","value","trim","length","pageNumber","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.36795847.chunk.js","sourcesContent":["import React from 'react'\r\n\r\nconst Countries = ({\r\n    countries,\r\n    handleCategoryClick,\r\n    sortCategory,\r\n    sortOrder,\r\n}) => {\r\n    const categories = ['Country', 'Capital', 'Area', 'Population']\r\n\r\n    return (\r\n        <div className=\"table__wrapper\">\r\n            <table className=\"table\">\r\n                <thead className=\"table__header\">\r\n                    <tr className=\"table__row\">\r\n                        {categories.map((category, index) => (\r\n                            <th\r\n                                className=\"table__cell table__cell--head\"\r\n                                key={category + index}\r\n                            >\r\n                                <button\r\n                                    className=\"btn btn--cell-head\"\r\n                                    type=\"button\"\r\n                                    onClick={() =>\r\n                                        handleCategoryClick(category)\r\n                                    }\r\n                                >\r\n                                    {category} &nbsp;\r\n                                    {category === sortCategory ? (\r\n                                        sortOrder ? (\r\n                                            <svg width=\"8\" height=\"10\">\r\n                                                <path d=\"M0 6 L4 0 L8 6 L0 6\" />\r\n                                            </svg>\r\n                                        ) : (\r\n                                            <svg width=\"8\" height=\"10\">\r\n                                                <path d=\"M0 0 L8 0 L4 6 L0 0\" />\r\n                                            </svg>\r\n                                        )\r\n                                    ) : (\r\n                                        <svg width=\"8\" height=\"14\">\r\n                                            <path d=\"M0 6 L4 0 L8 6 L0 6 M0 8 L8 8 L4 14 L0 8\" />\r\n                                        </svg>\r\n                                    )}\r\n                                </button>\r\n                            </th>\r\n                        ))}\r\n                    </tr>\r\n                </thead>\r\n                <tbody className=\"table__body\">\r\n                    {countries &&\r\n                        countries.map((country, index) => (\r\n                            <tr\r\n                                className=\"table__row\"\r\n                                key={country.name.common + index}\r\n                            >\r\n                                <td className=\"table__cell table__cell--body\">\r\n                                    {country.name.common}\r\n                                </td>\r\n                                <td\r\n                                    className={\r\n                                        country?.capital\r\n                                            ? 'table__cell table__cell--body'\r\n                                            : 'table__cell table__cell--body table__cell--unknown'\r\n                                    }\r\n                                >\r\n                                    {country.capital\r\n                                        ? country.capital[0]\r\n                                        : 'unknown'}\r\n                                </td>\r\n                                <td className=\"table__cell table__cell--body\">\r\n                                    {country.area}\r\n                                </td>\r\n                                <td className=\"table__cell table__cell--body\">\r\n                                    {country.population}\r\n                                </td>\r\n                            </tr>\r\n                        ))}\r\n                </tbody>\r\n            </table>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Countries\r\n","import React from 'react'\r\n\r\nconst Pagination = ({\r\n    itemsPerPage,\r\n    totalItems,\r\n    currentPageNumber,\r\n    handlePagButtonClick,\r\n}) => {\r\n    const numberOfPages = []\r\n\r\n    for (let i = 1; i <= Math.ceil(totalItems / itemsPerPage); i++) {\r\n        numberOfPages.push(i)\r\n    }\r\n\r\n    return (\r\n        <ul className=\"pagination\">\r\n            {numberOfPages.map((item) => (\r\n                <li className=\"pagination__item\" key={item}>\r\n                    <button\r\n                        className={\r\n                            currentPageNumber === item\r\n                                ? 'btn btn--pagination active'\r\n                                : 'btn btn--pagination'\r\n                        }\r\n                        onClick={() => handlePagButtonClick(item)}\r\n                    >\r\n                        <span className=\"btn__number\">{item}</span>\r\n                    </button>\r\n                </li>\r\n            ))}\r\n        </ul>\r\n    )\r\n}\r\n\r\nexport default Pagination\r\n","import React from 'react'\r\n\r\nconst Filtration = ({ handleInputChange }) => {\r\n    return (\r\n        <form action=\"\" className=\"form\">\r\n            <label className=\"form__label\" htmlFor=\"form__input\">\r\n                Filtration: &nbsp;\r\n                <input\r\n                    id=\"form__input\"\r\n                    className=\"form__input\"\r\n                    type=\"text\"\r\n                    placeholder=\"type your request here\"\r\n                    onChange={handleInputChange}\r\n                />\r\n            </label>\r\n        </form>\r\n    )\r\n}\r\n\r\nexport default Filtration\r\n","import React, { useState, useEffect } from 'react'\nimport axios from 'axios'\n\nimport Countries from './components/Countries'\nimport Pagination from './components/Pagination'\nimport Filtration from './components/Filtration'\n\nimport './scss/style.scss'\n\nfunction App() {\n    const [countries, setCountries] = useState([])\n    const [itemsPerPage, setItemsPerPage] = useState(50)\n    const [currentPage, setCurrentPage] = useState(1)\n    const [currentPageItems, setCurrentPageItems] = useState([])\n\n    // sorting\n    const [sortCategory, setSortCategory] = useState('Country')\n    const [sortOrder, setSortOrder] = useState(true)\n    // true is asc, false is desc\n\n    // filtration\n    const [filtratedCountries, setFiltratedCountries] = useState([])\n    const [inputValue, setInputValue] = useState('')\n\n    useEffect(() => {\n        const getCountries = async () => {\n            const response = await axios.get(\n                'https://restcountries.com/v3.1/all',\n            )\n            setCountries(response.data)\n        }\n        getCountries()\n    }, [])\n\n    useEffect(() => {\n        setCurrentPage(1)\n        setFiltratedCountries(\n            countries.filter((country) => {\n                if (\n                    country.name.common &&\n                    String(country.name.common)\n                        .toLowerCase()\n                        .includes(inputValue)\n                ) {\n                    return true\n                } else if (\n                    country.capital &&\n                    String(country.capital).toLowerCase().includes(inputValue)\n                ) {\n                    return true\n                } else if (\n                    country.area &&\n                    String(country.area).toLowerCase().includes(inputValue)\n                ) {\n                    return true\n                } else if (\n                    country.population &&\n                    String(country.population)\n                        .toLowerCase()\n                        .includes(inputValue)\n                ) {\n                    return true\n                } else return false\n            }),\n        )\n    }, [countries, inputValue])\n\n    useEffect(() => {\n        const sortCountries = () => {\n            switch (sortCategory) {\n                case 'Country':\n                    setFiltratedCountries(\n                        filtratedCountries.sort((a, b) => {\n                            if (a.name.common === b.name.common) return 0\n                            else if (sortOrder) {\n                                return new Intl.Collator().compare(\n                                    a.name.common,\n                                    b.name.common,\n                                )\n                            } else {\n                                return (\n                                    new Intl.Collator().compare(\n                                        a.name.common,\n                                        b.name.common,\n                                    ) * -1\n                                )\n                            }\n                        }),\n                    )\n                    break\n                case 'Capital':\n                    setFiltratedCountries(\n                        filtratedCountries.sort((a, b) => {\n                            const first = a && a.capital\n                            const second = b && b.capital\n                            if (first === second) return 0\n                            else if (first === undefined) return 1\n                            else if (second === undefined) return -1\n                            else if (sortOrder) {\n                                return first > second ? 1 : -1\n                            } else {\n                                return first > second ? -1 : 1\n                            }\n                        }),\n                    )\n                    break\n                case 'Area':\n                    setFiltratedCountries(\n                        filtratedCountries.sort((a, b) => {\n                            return sortOrder ? a.area > b.area : a.area < b.area\n                        }),\n                    )\n                    break\n                case 'Population':\n                    setFiltratedCountries(\n                        filtratedCountries.sort((a, b) => {\n                            return sortOrder\n                                ? a.population > b.population\n                                : a.population < b.population\n                        }),\n                    )\n                    break\n                default:\n                    break\n            }\n        }\n        sortCountries()\n    }, [filtratedCountries, sortCategory, sortOrder])\n\n    useEffect(() => {\n        // split countries into pages\n        const getCurrentPageItems = () => {\n            const lastItem = currentPage * itemsPerPage\n            const firstItem = lastItem - itemsPerPage\n            setCurrentPageItems(filtratedCountries.slice(firstItem, lastItem))\n        }\n        getCurrentPageItems()\n    }, [filtratedCountries, currentPage, itemsPerPage, sortCategory, sortOrder])\n\n    // pagination\n    const paginationButtonClick = (pageNumber) => {\n        setCurrentPage(pageNumber)\n    }\n\n    // category\n    const selectCategory = (category) => {\n        if (category === sortCategory) {\n            setSortOrder(!sortOrder)\n        } else {\n            setSortCategory(category)\n            setSortOrder(true)\n        }\n    }\n\n    // filtration\n    const filtration = (e) => {\n        const filterRequest = e.target.value.trim().toLowerCase()\n        setInputValue(filterRequest)\n    }\n\n    return (\n        <div className=\"wrapper\">\n            <section className=\"section\">\n                <h1 className=\"section__title\">Crazy Panda test task</h1>\n                <div className=\"section__content\">\n                    <Filtration handleInputChange={filtration} />\n                    <Countries\n                        countries={currentPageItems}\n                        handleCategoryClick={selectCategory}\n                        sortCategory={sortCategory}\n                        sortOrder={sortOrder}\n                    />\n                    <Pagination\n                        itemsPerPage={itemsPerPage}\n                        totalItems={filtratedCountries.length}\n                        currentPageNumber={currentPage}\n                        handlePagButtonClick={paginationButtonClick}\n                    />\n                </div>\n            </section>\n        </div>\n    )\n}\n\nexport default App\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}